<script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        themeVariables: {
            primaryColor: '#667eea',
            primaryTextColor: '#fff',
            primaryBorderColor: '#764ba2',
            lineColor: '#667eea',
            secondaryColor: '#f8f9fa',
            tertiaryColor: '#e9ecef'
        }
    });
    
    // Find all code blocks with language-mermaid class
    document.querySelectorAll('pre code.language-mermaid').forEach(function(block) {
        // Create a new div for mermaid
        var mermaidDiv = document.createElement('div');
        mermaidDiv.className = 'mermaid';
        mermaidDiv.textContent = block.textContent;
        
        // Replace the pre element with the mermaid div
        block.parentElement.parentElement.replaceChild(mermaidDiv, block.parentElement);
    });
    
    // Re-run mermaid to process the new divs
    mermaid.init();
});
</script>